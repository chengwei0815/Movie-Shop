@model ApplicationCore.Models.MovieDetailModel
@{
    ViewData["Title"] = Model.Title;
}

<style>
    .movie-hero {
        position: relative;
        background-image: url('@Model.BackdropUrl');
        background-size: cover;
        background-position: center;
        color: white;
        height: 500px;
        border-radius: 15px;
        overflow: hidden;
    }

    .movie-hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.55);
    }

    .movie-hero-content {
        position: absolute;
        bottom: 40px;
        left: 40px;
        z-index: 2;
        width: 60%;
    }

    .movie-hero img {
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    }

    .cast-img {
        width: 50px;
        height: 50px;
        object-fit: cover;
        border-radius: 50%;
        margin-right: 10px;
    }

    .movie-facts li {
        margin-bottom: 10px;
        font-size: 1rem;
    }

    .movie-facts i {
        margin-right: 8px;
        color: #555;
    }
</style>

<!-- Hero Banner -->
<div class="movie-hero mb-5">
    <div class="movie-hero-content">
        <h1 class="fw-bold">@Model.Title</h1>

        @if (!string.IsNullOrEmpty(Model.Tagline))
        {
            <h5 class="fst-italic text-light">@Model.Tagline</h5>
        }

        <div class="mt-3">
            <span class="badge bg-success fs-5">@Model.Rating?.ToString("0.0")</span>
            @foreach (var genre in Model.Genres)
            {
                <span class="badge bg-secondary ms-1">@genre.Name</span>
            }
        </div>

        <p class="lead mt-3">@Model.Overview</p>

        <div class="d-flex gap-3 mt-4">
            <a href="#" class="btn btn-outline-light">
                <i class="bi bi-pencil-square"></i> Review
            </a>
            <button class="btn btn-light text-dark fw-bold">
                Buy $@Model.Price
            </button>
        </div>
    </div>

    <img src="@Model.PosterUrl" alt="@Model.Title Poster"
         class="position-absolute top-50 end-0 translate-middle-y me-5"
         style="width: 250px; border-radius: 15px;" />
</div>

<!-- Movie Facts -->
<div class="container mb-5">
    <div class="row">
        <div class="col-md-4">
            <h4 class="fw-bold mb-3">Movie Facts</h4>
            <ul class="list-unstyled movie-facts">
                <li><i class="bi bi-calendar-event"></i> <strong>Release Date:</strong> @Model.ReleaseDate?.ToString("yyyy-MM-dd")</li>
                <li><i class="bi bi-clock"></i> <strong>Run Time:</strong> @Model.RunTime mins</li>
                <li><i class="bi bi-cash-stack"></i> <strong>Box Office:</strong> @Model.Revenue?.ToString("C")</li>
                <li><i class="bi bi-currency-dollar"></i> <strong>Budget:</strong> @Model.Budget?.ToString("C")</li>
            </ul>
        </div>

        <div class="col-md-8">
            <h4 class="fw-bold mb-3">Trailer</h4>
            @if (Model.Trailers != null && Model.Trailers.Any())
            {
                <ul class="list-unstyled">
                    @foreach (var trailer in Model.Trailers)
                    {
                        <li>
                            <i class="bi bi-play-circle"></i>
                            <a href="@trailer.TrailerUrl" target="_blank" class="text-decoration-none">@trailer.Name</a>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p>No trailers available.</p>
            }
        </div>
    </div>
</div>

<!-- Cast Section -->
<div class="container mb-5">
    <h4 class="fw-bold mb-3">Cast</h4>
    <div class="table-responsive">
        <table class="table align-middle">
            <thead class="table-light">
                <tr>
                    <th>Actor</th>
                    <th>Character</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Casts != null && Model.Casts.Any())
                {
                    @foreach (var cast in Model.Casts)
                    {
                        <tr>
                            <td>
                                <img src="@cast.ProfilePath" alt="@cast.Name" class="cast-img" />
                                @cast.Name
                            </td>
                            <td>@cast.Character</td>
                        </tr>
                    }
                }
                else
                {
                    <tr><td colspan="2">No cast information available.</td></tr>
                }
            </tbody>
        </table>
    </div>
</div>

